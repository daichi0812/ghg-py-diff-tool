--- /Users/shotaro/DevHub/CG/generalized-hybrid-grains/src/python/analysis/allstepHomogenizer.py
+++ /Users/shotaro/DevHub/CG/generalized-hybrid-grains/src/python/simulator/nagasu/allstepHomogenizer.py
@@ -5,16 +5,24 @@
 from allhomogenizationh5 import *

 from removeoutlier import *

 import os

-import xml.etree.ElementTree as ET 

+import xml.etree.ElementTree as ET

 import sys

+import time

 

 #全ステップの力をロードする。allforce[step]=forceData()

 args = sys.argv

+

 if len(args) < 2:

     print('rewriteResumefn.py homogenize_stress_fn')

 resume_xml_fn = args[1]

 tree = ET.parse(resume_xml_fn)

 root = tree.getroot()

+

+#処理時間を開始

+if root[6].attrib["mode"] == "11":

+    processing_time_fn = root[6].attrib["processing_time"]

+    start_time = time.perf_counter_ns()

+

 if root[0].tag !="elements":

     print("not elements line")

 template_fn = root[0].attrib["templates"]

@@ -87,3 +95,9 @@
 

 allhomogenization_data.save(filename)

 strain_data.save(strain_fn)

+

+#処理時間計測を終了

+if root[6].attrib["mode"] == "11":

+    end_time = time.perf_counter_ns()

+    with open(processing_time_fn, 'a') as f:

+        print((end_time - start_time) / 1000000.0, file=f)
